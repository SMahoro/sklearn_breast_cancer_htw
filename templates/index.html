<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breast Cancer Prediction</title>
    <style>
        body{font-family: sans-serif; max-width:600px; margin: 40px auto;}
        label{display:block; margin-top: 10px;}
        input{width: 100%; padding: 6px;}
        button{margin-top: 15px;padding: 8px 12px;}
        #result{margin-top: 20px; font-weight: bold; white-space: pre-line;}
    </style>
</head>

<body>
<h1>ML Breast Cancer</h1>
<p>Gib die Breast-Cancer-Features ein und klicke auf <strong>Predict</strong></p>   

    <label>mean radius</label><input id="f1" type="number" step="0.1" value="10.0">

    <label>mean texture</label><input id="f2" type="number" step="0.1" value="20.0">

    <label>mean perimeter</label><input id="f3" type="number" step="10" value="90.0">

    <label>mean area</label><input id="f4" type="number" step="10" value="580">

    <label>mean smoothness</label><input id="f5" type="number" step="0.001" value="0.00">

    <label>mean compactness</label><input id="f6" type="number" step="0.001" value="0.10">

    <label>mean concavity</label><input id="f7" type="number" step="0.001" value="0.10">

    <label>mean concave points</label><input id="f8" type="number" step="0.001" value="0.10">

    <label>mean symmetry</label><input id="f9" type="number" step="0.001" value="0.20">

    <label>mean fractal dimension</label><input id="f10" type="number" step="0.0001" value="0.060">

    <label>radius error</label><input id="f11" type="number" step="0.001" value="0.30">

    <label>texture error</label><input id="f12" type="number" step="0.01" value="1.10">

    <label>perimeter error</label><input id="f13" type="number" step="0.1" value="2.0">

    <label>area error</label><input id="f14" type="number" step="0.1" value="20">

    <label>smoothness error</label><input id="f15" type="number" step="0.0001" value="0.005">

    <label>compactness error</label><input id="f16" type="number" step="0.0001" value="0.03">

    <label>concavity error</label><input id="f17" type="number" step="0.0001" value="0.02">

    <label>concave points error</label><input id="f18" type="number" step="0.0001" value="0.005">

    <label>symmetry error</label><input id="f19" type="number" step="0.0001" value="0.02">

    <label>fractal dimension error</label><input id="f20" type="number" step="0.0001" value="0.003">

    <label>worst radius</label><input id="f21" type="number" step="0.1" value="15">

    <label>worst texture</label><input id="f22" type="number" step="0.1" value="25">

    <label>worst perimeter</label><input id="f23" type="number" step="1" value="110">

    <label>worst area</label><input id="f24" type="number" step="1" value="800">

    <label>worst smoothness</label><input id="f25" type="number" step="0.001" value="0.10">

    <label>worst compactness</label><input id="f26" type="number" step="0.01" value="0.3">

    <label>worst concavity</label><input id="f27" type="number" step="0.001" value="0.30">

    <label>worst concave points</label><input id="f28" type="number" step="0.001" value="0.10">

    <label>worst symmetry</label><input id="f29" type="number" step="0.001" value="0.30">

    <label>worst fractal dimension</label><input id="f30" type="number" step="0.001" value="0.10">

<button onclick="sendPredict()">Predict</button>

<div id="result"></div>

<script>
async function sendPredict() {
    const features = [];

    for (let i = 1; i <= 30; i++) {
        features.push(parseFloat(document.getElementById("f" + i).value));
    }

    const payload = { features: features };
   // console.log(payload); // prÃ¼fen

    const resDiv = document.getElementById('result');
    resDiv.textContent = "Bitte warten ...";



    try {
        const response = await fetch('/predict', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            const errText = await response.text();
            resDiv.textContent = "Fehler: " + errText;
            return;
        }

        const data = await response.json();

        const cls = data.class_label;
        const pred = data.prediction;
        const probs = data.probabilities;

        let probText = "";
        if (probs && probs.length === 2) {
            probText =
                "Wahrscheinlichkeiten:\n" +
                "Malignant: " + probs[0].toFixed(2) + "\n" +
                "Benign: " + probs[1].toFixed(2) ;
                }

        resDiv.textContent =
            "Vorhersage: " + cls + "\n" +
            probText;

    } catch (err) {
        resDiv.textContent = "Fehler beim Request: " + err;
    }
}
</script>

</body>
</html>
